@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* CSS Custom Properties for Design Tokens */
:root {
  /* Colors */
  --color-primary: #3b82f6;
  --color-secondary: #64748b;
  --color-accent: #d946ef;
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  
  /* Typography */
  --font-sans: 'Inter', system-ui, sans-serif;
  --font-display: 'Poppins', 'Inter', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
  
  /* Spacing */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-2xl: 3rem;
  
  /* Border Radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;
  
  /* Shadows */
  --shadow-soft: 0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04);
  --shadow-neomorphic: 20px 20px 60px #bebebe, -20px -20px 60px #ffffff;
  
  /* Transitions */
  --transition-fast: 150ms ease-in-out;
  --transition-normal: 250ms ease-in-out;
  --transition-slow: 350ms ease-in-out;
}

/* Dark theme overrides */
.dark {
  --color-primary: #60a5fa;
  --color-secondary: #94a3b8;
  --color-accent: #e879f9;
  --shadow-soft: 0 2px 15px -3px rgba(0, 0, 0, 0.3), 0 10px 20px -2px rgba(0, 0, 0, 0.2);
  --shadow-neomorphic: 20px 20px 60px #0a0a0a, -20px -20px 60px #1a1a1a;
}

/* Base styles */
* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
}

body {
  margin: 0;
  padding: 0;
  font-family: var(--font-sans);
  font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  font-variation-settings: normal;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Focus styles for accessibility */
*:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

*:focus:not(:focus-visible) {
  outline: none;
}

*:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* Selection styles */
::selection {
  background-color: var(--color-primary);
  color: white;
}

::-moz-selection {
  background-color: var(--color-primary);
  color: white;
}

/* Scrollbar styles */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(156, 163, 175, 0.5);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(156, 163, 175, 0.7);
}

.dark ::-webkit-scrollbar-thumb {
  background: rgba(75, 85, 99, 0.5);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgba(75, 85, 99, 0.7);
}

/* Custom utility classes */
@layer utilities {
  /* Glass morphism effect */
  .glass {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  
  .dark .glass {
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  /* Neomorphic button styles */
  .btn-neomorphic {
    background: linear-gradient(145deg, #f0f0f0, #cacaca);
    box-shadow: var(--shadow-neomorphic);
    border: none;
    transition: all var(--transition-normal);
  }
  
  .btn-neomorphic:hover {
    transform: translateY(-2px);
    box-shadow: 25px 25px 75px #bebebe, -25px -25px 75px #ffffff;
  }
  
  .btn-neomorphic:active {
    transform: translateY(0);
    box-shadow: inset 20px 20px 60px #bebebe, inset -20px -20px 60px #ffffff;
  }
  
  .dark .btn-neomorphic {
    background: linear-gradient(145deg, #1a1a1a, #0a0a0a);
    box-shadow: var(--shadow-neomorphic);
  }
  
  .dark .btn-neomorphic:hover {
    box-shadow: 25px 25px 75px #0a0a0a, -25px -25px 75px #1a1a1a;
  }
  
  .dark .btn-neomorphic:active {
    box-shadow: inset 20px 20px 60px #0a0a0a, inset -20px -20px 60px #1a1a1a;
  }
  
  /* Gradient text */
  .text-gradient {
    background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  /* Animated gradient background */
  .bg-gradient-animated {
    background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
    background-size: 400% 400%;
    animation: gradientShift 15s ease infinite;
  }
  
  @keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  
  /* Loading skeleton */
  .skeleton {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: loading 1.5s infinite;
  }
  
  .dark .skeleton {
    background: linear-gradient(90deg, #374151 25%, #4b5563 50%, #374151 75%);
    background-size: 200% 100%;
  }
  
  @keyframes loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }
  
  /* Pulse animation for loading states */
  .pulse-glow {
    animation: pulseGlow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  
  @keyframes pulseGlow {
    0%, 100% {
      opacity: 1;
      box-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
    }
    50% {
      opacity: 0.7;
      box-shadow: 0 0 40px rgba(59, 130, 246, 0.6);
    }
  }
  
  /* Smooth transitions for all interactive elements */
  .transition-smooth {
    transition: all var(--transition-normal);
  }
  
  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  /* Custom focus ring */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-dark-50;
  }
}

/* Component-specific styles */
@layer components {
  /* Card component */
  .card {
    @apply bg-white dark:bg-dark-100 rounded-xl shadow-soft dark:shadow-soft-dark border border-gray-200 dark:border-dark-200;
  }
  
  /* Button variants */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-lg transition-smooth focus-ring disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  .btn-primary {
    @apply btn bg-primary-600 hover:bg-primary-700 text-white;
  }
  
  .btn-secondary {
    @apply btn bg-secondary-600 hover:bg-secondary-700 text-white;
  }
  
  .btn-outline {
    @apply btn border-2 border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white;
  }
  
  .btn-ghost {
    @apply btn text-primary-600 hover:bg-primary-50 dark:hover:bg-primary-900/20;
  }
  
  /* Input styles */
  .input {
    @apply w-full px-3 py-2 text-sm bg-white dark:bg-dark-100 border border-gray-300 dark:border-dark-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-smooth;
  }
  
  /* Text styles */
  .text-heading {
    @apply font-display font-bold text-gray-900 dark:text-white;
  }
  
  .text-body {
    @apply font-sans text-gray-700 dark:text-dark-400;
  }
  
  .text-caption {
    @apply text-sm text-gray-500 dark:text-dark-500;
  }
}

/* Animation classes for GSAP and Framer Motion */
.fade-in {
  opacity: 0;
  animation: fadeIn 0.5s ease-in-out forwards;
}

.slide-up {
  transform: translateY(20px);
  opacity: 0;
  animation: slideUp 0.3s ease-out forwards;
}

.scale-in {
  transform: scale(0.9);
  opacity: 0;
  animation: scaleIn 0.2s ease-out forwards;
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  .bg-gradient-animated {
    animation: none;
  }
  
  .skeleton {
    animation: none;
  }
  
  .pulse-glow {
    animation: none;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --color-primary: #0066cc;
    --color-secondary: #333333;
    --color-accent: #cc00cc;
  }
  
  .dark {
    --color-primary: #66b3ff;
    --color-secondary: #cccccc;
    --color-accent: #ff66ff;
  }
  
  .card {
    @apply border-2 border-gray-900 dark:border-white;
  }
}

/* Print styles */
@media print {
  * {
    background: transparent !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  .no-print {
    display: none !important;
  }
}
